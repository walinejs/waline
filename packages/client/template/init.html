<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Waline init test</title>
  </head>
  <body>
    <article>
      <div class="content">
        <blockquote>
<p>æœ‰äº›ä½ ä¸çŸ¥é“æ˜¯æ­£å¸¸çš„â€¦â€¦å› ä¸ºä»–ä»¬åŸºæœ¬éƒ½æ²¡æ€ä¹ˆè¢«æµè§ˆå™¨å®ç° ğŸ¥¶</p>
</blockquote>
<h2 id="css-toggles">CSS Toggles</h2>
<p><a href="https://tabatkins.github.io/css-toggle/">https://tabatkins.github.io/css-toggle/</a></p>
<p>çº¯ CSS å®ç°çŠ¶æ€åˆ‡æ¢ä¸€èˆ¬ä½¿ç”¨ Checkbox æˆ–è€… Radio é…åˆé€‰æ‹©å™¨æ¥å®ç°ã€‚å®ç°èµ·æ¥éº»çƒ¦ä¸è¯´ï¼Œè€Œä¸” CheckBox/Radio çš„ä½ç½®é™åˆ¶äº†ä½ å¯æ§åˆ¶çš„èŒƒå›´ï¼Œç”¨èµ·æ¥å¾ˆä¸æ–¹ä¾¿ã€‚</p>
<style>iframe { width: 100%; height: 300px; border: 1px solid #EFEFEF; }</style>
<iframe src="https://code.juejin.cn/pen/7136486392506351649"></iframe>
<p>äº¤äº’ä¸­è¶Šæ¥è¶Šå¤šä¾èµ–çŠ¶æ€ï¼Œæ¯”å¦‚ Tab, å¼¹çª—, Summary ç­‰ï¼Œæ‰€ä»¥æœ‰äº†åŸç”Ÿçš„çŠ¶æ€åˆ‡æ¢è‰æ¡ˆã€‚ç›®å‰è¿˜æ˜¯è‰æ¡ˆä¸­ï¼Œä¸è¿‡å·²ç»æœ‰å¯¹åº”çš„ Polyfill äº† <a href="https://github.com/oddbird/css-toggles">https://github.com/oddbird/css-toggles</a></p>
<iframe src="https://code.juejin.cn/pen/7136467557795495973"></iframe>
<ul>
<li>
<p><code>toggle-root</code>ï¼šå®šä¹‰è¯¥å…ƒç´ å¯åˆ‡æ¢çŠ¶æ€</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  &lt;toggle-root&gt; = &lt;custom-ident&gt;
</span></span><span class="line"><span class="cl">  [
</span></span><span class="line"><span class="cl">    &lt;toggle-states&gt; [at &lt;toggle-value&gt;]? ||
</span></span><span class="line"><span class="cl">    &lt;toggle-overflow&gt; ||
</span></span><span class="line"><span class="cl">    group ||
</span></span><span class="line"><span class="cl">    self
</span></span><span class="line"><span class="cl">  ]?
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;toggle-states&gt; = &lt;integer [1,âˆ]&gt; | '[' &lt;custom-ident&gt;{2,} ']'
</span></span><span class="line"><span class="cl">&lt;toggle-value&gt; = &lt;integer [0,âˆ]&gt; | &lt;custom-ident&gt;
</span></span><span class="line"><span class="cl">&lt;toggle-overflow&gt; = cycle | cycle-on | sticky
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// mode
</span></span><span class="line"><span class="cl">// mode 1 at 0 cycle wide
</span></span><span class="line"><span class="cl">// mode 3 at 0
</span></span><span class="line"><span class="cl">// mode [light dark] at light
</span></span></code></pre></div></li>
<li>
<p><code>toggle-overflow</code> å®šä¹‰è®¾ç½®çš„å€¼è¶…å‡ºä¹‹åçš„è¡Œä¸ºï¼Œé’ˆå¯¹æ•°å­—ç±»å‹æœ‰æ•ˆ</p>
<ul>
<li>cycle / cycle-on: æ¯”æœ€å°å€¼å°åˆ™ä¸ºæœ€å¤§å€¼ï¼Œæ¯”æœ€å¤§å€¼å¤§åˆ™ä¸º 0 / 1</li>
<li>sticky: æœ€å°å€¼ &lt;= value &lt;= æœ€å¤§å€¼</li>
</ul>
</li>
<li>
<p><code>self</code> å®šä¹‰è§¦å‘å…ƒç´ å’Œå¯åˆ‡æ¢å…ƒç´ çš„æŸ¥æ‰¾å…³ç³»ï¼š</p>
<ul>
<li>wide: ä»»æ„</li>
<li>narrow: å¿…é¡»æ˜¯çˆ¶å­å…³ç³»</li>
</ul>
</li>
<li>
<p><code>toggle-rigger</code>ï¼šå®šä¹‰è¯¥å…ƒç´ ä¸º <a href="https://drafts.csswg.org/css-values-4/#identifier-value"><custom-ident></custom-ident></a> çš„åˆ‡æ¢è§¦å‘å™¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;toggle-trigger&gt; = &lt;custom-ident&gt; &lt;trigger-action&gt;?
</span></span><span class="line"><span class="cl">&lt;trigger-action&gt; =
</span></span><span class="line"><span class="cl">  [prev | next] &lt;integer [1,âˆ]&gt;? |
</span></span><span class="line"><span class="cl">  set &lt;toggle-value&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// mode
</span></span><span class="line"><span class="cl">// mode next 1
</span></span><span class="line"><span class="cl">// mode prev 1
</span></span><span class="line"><span class="cl">// mode next 2 
</span></span><span class="line"><span class="cl">// mode 2
</span></span><span class="line"><span class="cl">// mode set light
</span></span></code></pre></div></li>
<li>
<p><code>:toggle()</code>ï¼šæ ¹æ® <a href="https://drafts.csswg.org/css-values-4/#identifier-value"><custom-ident></custom-ident></a> å€¼é€‰æ‹©å…ƒç´ </p>
</li>
<li>
<p><code>toggle</code>ï¼šå½“å¯åˆ‡æ¢å…ƒç´ å’Œåˆ‡æ¢è§¦å‘å™¨å…ƒç´ ä¸ºåŒä¸€ä¸ªæ—¶ï¼Œå¯ä½¿ç”¨ <code>toggle</code> è¿›è¡Œç®€å†™</p>
</li>
<li>
<p><code>toggle-group</code>ï¼šæŒ‡å®šè¯¥å…ƒç´ ä¸º <a href="https://drafts.csswg.org/css-values-4/#identifier-value"><custom-ident></custom-ident></a> çš„ç»„å†…å…ƒç´ </p>
</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>Element.toggles()</code> æ¥è·å–å¯åˆ‡æ¢å…ƒç´ çš„æ‰€æœ‰åˆ‡æ¢çŠ¶æ€æšä¸¾ï¼Œä¹Ÿé€šè¿‡ <code>Element.addEventListener('togglechange', ...)</code> è·å–å½“å‰å¯åˆ‡æ¢å…ƒç´ çš„å½“å‰çŠ¶æ€ã€‚</p>
<p>æ›´å¤šç¤ºä¾‹è§ï¼š<a href="https://toggles.oddbird.net">https://toggles.oddbird.net</a></p>
<h2 id="popup-api">PopUp API</h2>
<p><a href="https://open-ui.org/components/popup.research.explainer">https://open-ui.org/components/popup.research.explainer</a></p>
<p>å¦‚æœè¦è‡ªå·±ä» 0 å¼€å§‹å†™ä¸€ä¸ªå¼¹çª—æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œéœ€è¦è€ƒè™‘å¾ˆå¤šäº‹æƒ…ï¼šå…¨å±æµ®å±‚ï¼Œå†…å®¹å±…ä¸­ï¼Œé¡µé¢æ»šåŠ¨å¤±æ•ˆï¼Œé®ç½©ç‚¹å‡»å…³é—­ï¼ŒESC æŒ‰ä¸‹å…³é—­â€¦</p>
<p>æ‰€ä»¥å°±æœ‰å¥½å¤šç»„ä»¶å°è£…ï¼Œè™½ç„¶åŸç”Ÿå·²ç»æœ‰ <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog">&lt;dialog&gt;</a> æ ‡ç­¾å¯ä»¥å¹²ç±»ä¼¼çš„äº‹æƒ…äº†ã€‚ä½†æ¯•ç«Ÿè¿˜æ˜¯æœ‰ç‚¹åŸå§‹ï¼Œæ‰€ä»¥ Chrome å°±å°† PopUp åŸç”Ÿå®ç°äº†~~ï¼ˆçœŸå·å•Šï¼‰~~ã€‚</p>
<iframe src="https://code.juejin.cn/pen/7136554639964504097"></iframe>
<ul>
<li><code>popup</code>: auto | hint | manual é»˜è®¤ä¸º autoï¼ŒæŒ‡å®šå¤šå¼¹çª—çš„å…³ç³»</li>
<li>popuptoggletargetï¼šæŒ‡å‘å¸¦æœ‰ <code>popup</code> å±æ€§çš„å…ƒç´  idï¼Œç”¨æ¥åˆ‡æ¢ popup å…ƒç´ çš„æ˜¾éš</li>
<li>popupshowtargetï¼šæŒ‡å‘å¸¦æœ‰ <code>popup</code> å±æ€§çš„å…ƒç´  idï¼Œç”¨æ¥æ˜¾ç¤º popup å…ƒç´ </li>
<li>popuphidetargetï¼šæŒ‡å‘å¸¦æœ‰ <code>popup</code> å±æ€§çš„å…ƒç´  idï¼Œç”¨æ¥éšè— popup å…ƒç´ </li>
<li><code>Element.showPopUp()</code> <code>Element.hidePopUp()</code></li>
</ul>
<p>ç›®å‰ä»…æœ€æ–°çš„ Chromium ç”Ÿæ•ˆ :-) è¿˜æœ‰äº›é—®é¢˜~ <a href="https://chromestatus.com/feature/5463833265045504">https://chromestatus.com/feature/5463833265045504</a></p>
<h2 id="css-ä½œç”¨åŸŸ">CSS ä½œç”¨åŸŸ</h2>
<p><a href="https://www.w3.org/TR/css-scoping-1/">https://www.w3.org/TR/css-scoping-1/</a></p>
<p>ä»¥å¾€æˆ‘ä»¬è¦å®ç° CSS ä½œç”¨åŸŸï¼Œç»„ä»¶ä¹‹é—´æ ·å¼ä¸äº’ç›¸å½±å“ï¼Œä¸€èˆ¬å°±æ˜¯ BEM å‘½åæˆ–è€… CSS Module, CSS in JS ä¹‹æµæœ€ç»ˆç”Ÿæˆå¸¦ hash çš„å”¯ä¸€é€‰æ‹©å™¨ä¼ªå®ç°ï¼Œäº¦æˆ–æ˜¯ä½¿ç”¨ Shadow DOM è¿™ç§é«˜æˆæœ¬çš„å®Œç¾å®ç°ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬èƒ½ç›´æ¥ä½¿ç”¨ <code>@``scope</code> æ¥å®ç°æ ·å¼éš”ç¦»äº†ï¼</p>
<p><img src="https://p.upyun.lithub.cc/imnerd.org/assets/2022/front-end-new-feature-you-dont-know/1.png" alt=""></p>
<blockquote>
<p>å›¾æ¥è‡ªï¼š<a href="https://weibo.com/1708684567/LzHEY1wGm">https://weibo.com/1708684567/LzHEY1wGm</a></p>
</blockquote>
<p>ä¸ç”¨å¤ªå¤šä»‹ç»ï¼Œç®€å•å¥½ç”¨~</p>
<h2 id="structuredclone">structuredClone</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/structuredClone">https://developer.mozilla.org/en-US/docs/Web/API/structuredClone</a></p>
<p>åŸç”Ÿçš„æ·±æ‹·è´æ–¹æ³•ï¼Œå¯ä»¥å¯¹ç»“æ„åŒ–æ•°æ®è¿›è¡Œæ·±æ‹·è´ï¼Œé¿å… <code>JSON.parse(JSON.stringify())</code> çš„å°´å°¬ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js hljs javascript" data-lang="js"><span class="line"><span class="cl"><span class="nx">structuredClone</span><span class="p">(</span><span class="nx">value</span><span class="o">:</span> <span class="nx">any</span><span class="p">,</span> <span class="p">{</span> <span class="nx">transfer</span><span class="o">?:</span> <span class="nx">any</span><span class="p">[]</span> <span class="p">})</span>
</span></span></code></pre></div><ul>
<li>ä¸å…è®¸å…‹éš†<code>Error</code>ã€<code>Function</code>å’Œ<code>DOM</code>å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡ä¸­å«æœ‰ï¼Œå°†æŠ›å‡º<code>DATA_CLONE_ERR</code>å¼‚å¸¸ã€‚</li>
<li>ä¸ä¿ç•™<code>RegExp</code> å¯¹è±¡çš„ <code>lastIndex</code> å­—æ®µã€‚</li>
<li>ä¸ä¿ç•™å±æ€§æè¿°ç¬¦ï¼Œ<code>setters</code> ä»¥åŠ <code>getters</code>ï¼ˆä»¥åŠå…¶ä»–ç±»ä¼¼å…ƒæ•°æ®çš„åŠŸèƒ½ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡ç”¨å±æ€§æè¿°ç¬¦æ ‡è®°ä¸º <code>read-only</code>ï¼Œå®ƒå°†ä¼šè¢«å¤åˆ¶ä¸º <code>read-write</code>ã€‚</li>
<li>ä¸ä¿ç•™åŸå‹é“¾ã€‚</li>
</ul>
<h2 id="navigation-api">Navigation API</h2>
<p>SPA çš„åŸºçŸ³è·¯ç”±ç®¡ç†ï¼Œæ—©æœ‰ History API æ”¯æŒï¼Œä½†å› ä¸ºæœ¬è´¨æ˜¯å†å²è®°å½•çš„ç®¡ç†ï¼Œç¼ºå°‘ä¸€äº›åˆ‡æ¢åçš„æ§åˆ¶ç­‰åŠŸèƒ½ï¼Œæ‰€ä»¥ Chrome ä»æ–°æå‡ºäº† Navigation API æ¥ä¸“é—¨å®ç°è·¯ç”±ç®¡ç†ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js hljs javascript" data-lang="js"><span class="line"><span class="cl"><span class="nx">navigation</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1"><span class="hljs-string">'navigate'</span></span><span class="p">,</span> <span class="nx"><span class="hljs-function"><span class="hljs-params">navigateEvent</span></span></span><span class="hljs-function"> </span><span class="p"><span class="hljs-function">=&gt;</span></span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k"><span class="hljs-keyword">if</span></span> <span class="p">(</span><span class="nx">shouldNotIntercept</span><span class="p">(</span><span class="nx">navigateEvent</span><span class="p">))</span> <span class="k"><span class="hljs-keyword">return</span></span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr"><span class="hljs-keyword">const</span></span> <span class="nx">url</span> <span class="o">=</span> <span class="k"><span class="hljs-keyword">new</span></span> <span class="nx">URL</span><span class="p">(</span><span class="nx">navigateEvent</span><span class="p">.</span><span class="nx">destination</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k"><span class="hljs-keyword">if</span></span> <span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">===</span> <span class="s1"><span class="hljs-string">'/'</span></span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigateEvent</span><span class="p">.</span><span class="nx">intercept</span><span class="p">({</span><span class="nx"><span class="hljs-attr">handler</span></span><span class="o">:</span> <span class="nx">loadIndexPage</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k"><span class="hljs-keyword">else</span></span> <span class="k"><span class="hljs-keyword">if</span></span> <span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span> <span class="o">===</span> <span class="s1"><span class="hljs-string">'/cats/'</span></span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigateEvent</span><span class="p">.</span><span class="nx">intercept</span><span class="p">({</span><span class="nx"><span class="hljs-attr">handler</span></span><span class="o">:</span> <span class="nx">loadCatsPage</span><span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><p><code>navigateEvent</code>åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li><code>canIntercept</code> æ˜¯å¦æ”¯æŒæ‹¦æˆªï¼Œè·¨åŸŸç­‰æ— æ³•æ‹¦æˆªåœºæ™¯ä¼šè¿”å› <code>false</code></li>
<li><code>destination.url</code> è·³è½¬ç›®æ ‡åœ°å€</li>
<li><code>hashChange</code>æ˜¯å¦æ˜¯é”šç‚¹è·³è½¬</li>
<li><code>userInitiated</code> æ˜¯å¦æ˜¯ç”±é¡µé¢å†… <code>&lt;a&gt;</code> æ ‡ç­¾è§¦å‘çš„è·³è½¬ï¼Œä¸º <code>false</code> è¡¨ç¤ºæ˜¯æµè§ˆå™¨å‰è¿›åé€€ç­‰è§¦å‘çš„è·³è½¬</li>
<li><code>downloadRequest</code>æ˜¯å¦æ˜¯ç”±å…·æœ‰<code>download</code>å±æ€§çš„é“¾æ¥å¸¦æ¥çš„è·³è½¬</li>
<li><code>formData</code>è¡¨å•è·³è½¬æ—¶å¯¹åº”æäº¤çš„è¡¨å•æ•°æ®ï¼Œå¯ä»¥é’ˆå¯¹ Form è¡¨å•æ‹¦æˆªåå‘é€æ•°æ®</li>
<li><code>navigationType</code>æšä¸¾å€¼<code>"reload"</code>, <code>"push"</code>,<code>"replace"</code>æˆ–<code>"traverse"</code>ï¼ˆç±»ä¼¼ <code>history.goBack()</code>ï¼‰ä¹‹ä¸€ã€‚å¦‚æœæ˜¯<code>"traverse"</code>ï¼Œåˆ™æ— æ³•é€šè¿‡<code>preventDefault()</code>é˜»æ­¢è·³è½¬</li>
<li><code>signal</code> æä¾›ç»™æ‹¦æˆª handler ä¸­å¼‚æ­¥è¯·æ±‚ä½¿ç”¨ï¼Œæ–¹ä¾¿å½“è·³è½¬ç»ˆç«¯ååŒæ­¥ä¸­æ–­è¯·æ±‚</li>
<li><code>scroll()</code>æ§åˆ¶è·³è½¬åæ»šåŠ¨ï¼Œåœ¨å¼‚æ­¥ handler ä¸­æ¯”è¾ƒæœ‰ç”¨ï¼Œå¯èƒ½ä¼šå¤šæ¬¡æ»šåŠ¨</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js hljs javascript" data-lang="js"><span class="line"><span class="cl"><span class="kd"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="nx"><span class="hljs-function"><span class="hljs-title">shouldNotIntercept</span></span></span><span class="p"><span class="hljs-function">(</span></span><span class="nx"><span class="hljs-function"><span class="hljs-params">navigationEvent</span></span></span><span class="p"><span class="hljs-function">)</span></span><span class="hljs-function"> </span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k"><span class="hljs-keyword">return</span></span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">!</span><span class="nx">navigationEvent</span><span class="p">.</span><span class="nx">canIntercept</span> <span class="o">||</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigationEvent</span><span class="p">.</span><span class="nx">hashChange</span> <span class="o">||</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigationEvent</span><span class="p">.</span><span class="nx">downloadRequest</span> <span class="o">||</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigationEvent</span><span class="p">.</span><span class="nx">formData</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><code>signal</code> å’Œ <code>scroll()</code> çš„ä¾‹å­ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js hljs javascript" data-lang="js"><span class="line"><span class="cl"><span class="nx">navigation</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1"><span class="hljs-string">'navigate'</span></span><span class="p">,</span> <span class="nx"><span class="hljs-function"><span class="hljs-params">navigateEvent</span></span></span><span class="hljs-function"> </span><span class="p"><span class="hljs-function">=&gt;</span></span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k"><span class="hljs-keyword">if</span></span> <span class="p">(</span><span class="nx">shouldNotIntercept</span><span class="p">(</span><span class="nx">navigateEvent</span><span class="p">))</span> <span class="k"><span class="hljs-keyword">return</span></span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kr"><span class="hljs-keyword">const</span></span> <span class="nx">url</span> <span class="o">=</span> <span class="k"><span class="hljs-keyword">new</span></span> <span class="nx">URL</span><span class="p">(</span><span class="nx">navigateEvent</span><span class="p">.</span><span class="nx">destination</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k"><span class="hljs-keyword">if</span></span> <span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1"><span class="hljs-string">'/articles/'</span></span><span class="p">))</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">navigateEvent</span><span class="p">.</span><span class="nx">intercept</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="kr"><span class="hljs-keyword">async</span></span> <span class="nx">handler</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1"><span class="hljs-comment">// The URL has already changed, so quickly show a placeholder.</span>
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">renderArticlePagePlaceholder</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="c1"><span class="hljs-comment">// Then fetch the real data.</span>
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="kr"><span class="hljs-keyword">const</span></span> <span class="nx">articleContentURL</span> <span class="o">=</span> <span class="k"><span class="hljs-keyword">new</span></span> <span class="nx">URL</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="s1"><span class="hljs-string">'/get-article-content'</span></span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nx">location</span><span class="p">.</span><span class="nx">href</span>
</span></span><span class="line"><span class="cl">        <span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">articleContentURL</span><span class="p">.</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1"><span class="hljs-string">'path'</span></span><span class="p">,</span> <span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kr"><span class="hljs-keyword">const</span></span> <span class="nx">response</span> <span class="o">=</span> <span class="kr"><span class="hljs-keyword">await</span></span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">articleContentURL</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nx"><span class="hljs-attr">signal</span></span><span class="o">:</span> <span class="nx">navigateEvent</span><span class="p">.</span><span class="nx">signal</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">});</span>
</span></span><span class="line"><span class="cl">        <span class="kr"><span class="hljs-keyword">const</span></span> <span class="nx">articleContent</span> <span class="o">=</span> <span class="kr"><span class="hljs-keyword">await</span></span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="nx">renderArticlePage</span><span class="p">(</span><span class="nx">articleContent</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">navigateEvent</span><span class="p">.</span><span class="nx">scroll</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kr"><span class="hljs-keyword">const</span></span> <span class="nx">secondaryContent</span> <span class="o">=</span> <span class="kr"><span class="hljs-keyword">await</span></span> <span class="nx">getSecondaryContent</span><span class="p">(</span><span class="nx">url</span><span class="p">.</span><span class="nx">pathname</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="nx">addSecondaryContent</span><span class="p">(</span><span class="nx">secondaryContent</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">      <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"><span class="hljs-comment">// navigate</span>
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr"><span class="hljs-keyword">const</span></span> <span class="p">{</span> <span class="nx">committed</span><span class="p">,</span> <span class="nx">finished</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">navigation</span><span class="p">.</span><span class="nx">navigate</span><span class="p">(</span><span class="s1"><span class="hljs-string">'/articles/hello-world'</span></span><span class="p">);</span>
</span></span></code></pre></div><p>è®¾ç½®å¥½è·³è½¬æ‹¦æˆªå›è°ƒåï¼Œæˆ‘ä»¬å°±èƒ½æ­£å¸¸ä½¿ç”¨ <code>navigation.navigate()</code> è¿›è¡Œè·³è½¬äº†ã€‚è¿”å›ä¸¤ä¸ª Promise å¯¹è±¡ï¼Œåˆ†åˆ«å¯¹åº” Navigate å®Œæˆçš„çŠ¶æ€ <code>committed</code>ï¼Œä»¥åŠå¯¼èˆªæ‹¦æˆªçš„å›è°ƒ Handler ç»“æŸçš„çŠ¶æ€ <code>finished</code>ã€‚</p>
<p>æ¯”èµ· History API æƒŠå–œçš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>navigation.entries()</code> è·å–å½“å‰æ‰€æœ‰çš„å†å²è®°å½•ã€‚é€šè¿‡ <code>navigation.currentEntry</code> è¿”å›å½“å‰çš„è®°å½•ã€‚</p>
<blockquote>
<p><code>navigation.entries()</code> è·å–çš„åªèƒ½æ˜¯åŒåŸŸçš„å†å²è®°å½•ï¼Œè·¨åŸŸçš„æ— æ³•è·å–ã€‚</p>
</blockquote>
<p><img src="https://p.upyun.lithub.cc/imnerd.org/assets/2022/front-end-new-feature-you-dont-know/2.png" alt=""></p>
<p>å…¼å®¹æ€§ï¼š<a href="https://caniuse.com/mdn-api_navigation_navigate">https://caniuse.com/mdn-api_navigation_navigate</a></p>
<h2 id="urlpattern">URLPattern</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API">https://developer.mozilla.org/en-US/docs/Web/API/URL_Pattern_API</a></p>
<p>å¯ä»¥ç®—æ˜¯åŸç”Ÿç‰ˆçš„ <a href="https://github.com/pillarjs/path-to-regexp">path-to-regexp</a> ï¼Œç”¨æ¥åš URL æ ¼å¼åŒ¹é…è§£æçš„ã€‚æœ€å¼€å§‹æ˜¯å› ä¸º service worker åœºæ™¯æœ‰è§£ææ‹¦æˆªçš„èµ„æºè¯·æ±‚åœ°å€çš„éœ€æ±‚åˆ›é€ ï¼Œä½†é€‚ç”¨æ‰€æœ‰ URL è§£æåœºæ™¯ã€‚</p>
<p>è™½ç„¶ URLPattern å¯ä»¥è§£æå®Œæ•´çš„åŸŸåï¼Œä½†ä¸€èˆ¬ hostname ç›¸å…³å¯ä»¥ç”¨ URL è§£æï¼Œquery å¯ä»¥ä½¿ç”¨ URLSearchParams è§£æã€‚æ‰€ä»¥å…¶å®ç”¨çš„æ¯”è¾ƒå¤šçš„åœºæ™¯è¿˜æ˜¯ pathname çš„è§£æã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js hljs javascript" data-lang="js"><span class="line"><span class="cl"><span class="kr"><span class="hljs-keyword">const</span></span> <span class="nx">pattern</span> <span class="o">=</span> <span class="k"><span class="hljs-keyword">new</span></span> <span class="nx">URLPattern</span><span class="p">({</span> <span class="nx"><span class="hljs-attr">pathname</span></span><span class="o">:</span> <span class="s1"><span class="hljs-string">'/books/:id(\\d+)'</span></span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="nx"><span class="hljs-built_in">console</span></span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1"><span class="hljs-string">'https://example.com/books/123'</span></span><span class="p">));</span> <span class="c1"><span class="hljs-comment">// true</span>
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx"><span class="hljs-built_in">console</span></span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="s1"><span class="hljs-string">'https://example.com/books/123'</span></span><span class="p">).</span><span class="nx">pathname</span><span class="p">.</span><span class="nx">groups</span><span class="p">);</span> <span class="c1"><span class="hljs-comment">// { id: '123' }</span>
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx"><span class="hljs-built_in">console</span></span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s1"><span class="hljs-string">'https://example.com/books/detail'</span></span><span class="p">));</span> <span class="c1"><span class="hljs-comment">// false</span>
</span></span></span></code></pre></div><ul>
<li>ä½¿ç”¨ <code>:&lt;group&gt;</code> æ¥ä¸ºå½“å‰åŒ¹é…å†…å®¹åˆ†ç»„</li>
<li><code>{}</code>æ˜¯éæ•è·ç»„ï¼Œç›¸å½“äºæ­£åˆ™ä¸­çš„ <code>(?:)</code>ï¼Œå¯ä»¥åœ¨åé¢å¢åŠ <code>{}?</code>è¡¨ç¤ºå¯é€‰ï¼Œä¸åŠ çš„è¯å…¶å®å¯æœ‰å¯æ— </li>
<li><code>(æ­£åˆ™è¡¨è¾¾å¼)</code>ä¹Ÿå¯ä»¥é€šè¿‡æ­£åˆ™è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œå¯ä»¥è·Ÿåœ¨å‘½ååˆ†ç»„çš„åé¢ï¼Œç›¸å½“äº<code>(?&lt;group&gt;æ­£åˆ™è¡¨è¾¾å¼)</code>ã€‚å†…éƒ¨æ­£åˆ™å…³é”®å­—éœ€è¦åšè½¬ä¹‰å¤„ç†ã€‚</li>
<li><code>*</code> è¡¨ç¤ºè´ªå©ªåŒ¹é…ï¼Œç‹¬ç«‹ä½¿ç”¨ç›¸å½“äºæ­£åˆ™ <code>.*</code>ï¼Œä¹Ÿå¯ä»¥æ­é…åœ¨å‰å‡ ä¸ªè§„åˆ™åä½¿ç”¨ï¼Œä¾‹å¦‚ <code>:id*</code></li>
<li><code>+</code> ç›¸å½“äº <code>{1,}</code> ä¸å¯ç‹¬ç«‹ä½¿ç”¨</li>
</ul>
<p>ä½¿ç”¨ URLPattern è€Œä¸æ˜¯è‡ªå·±ä½¿ç”¨æ­£åˆ™è§£æçš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯å®ƒä¼šå¸®åŠ©æˆ‘ä»¬æŠŠ URL è§„èŒƒåŒ–ä¹‹åå†è¿›è¡Œè§£æï¼Œè€Œä¸æ˜¯ç®€å•çš„åšä¸€ä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è½¬æ¢åŒ¹é…ã€‚</p>
<p><img src="https://p.upyun.lithub.cc/imnerd.org/assets/2022/front-end-new-feature-you-dont-know/3.png" alt=""></p>
<p>ç›®å‰ä»… Chrome ç³»<a href="https://caniuse.com/mdn-api_urlpattern">å…¼å®¹æ€§</a>è¿˜è¡Œï¼ŒNode ä¹Ÿæš‚æ—¶è¿˜æ²¡æœ‰è·Ÿä¸Šç‰ˆæœ¬ã€‚ä¸è¿‡æœ‰å¯¹åº”çš„ <a href="https://github.com/kenchris/urlpattern-polyfill">Polyfill</a> äº†å·²ç»ã€‚</p>
<h2 id="å›¾ç‰‡">å›¾ç‰‡</h2>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio">https://developer.mozilla.org/en-US/docs/Web/CSS/aspect-ratio</a></p>
<p>å¦‚æœéœ€è¦æŒ‰æ¯”ä¾‹æ˜¾ç¤ºå›¾ç‰‡ï¼Œä¸€èˆ¬ä¼šä¿æŒæ¯”ä¾‹è®¾ç½® DOM å°ºå¯¸åä½¿ç”¨ <code>background-image</code> æˆ–è€…ä½¿ç”¨ <code>&lt;img&gt;</code> æ¥å±•ç¤ºï¼Œæ¯”è¾ƒä¸ä¾¿ã€‚æ‰€ä»¥å¢åŠ äº† <code>aspectio-ratio</code> å±æ€§ç›´æ¥æ”¯æŒè®¾ç½®å›¾ç‰‡æ˜¾ç¤ºçš„æ¯”ä¾‹ã€‚</p>
<p>é…åˆ <code>object-fit</code> å±æ€§æŒ‡å®šå›¾ç‰‡æ¯”ä¾‹ä¸å¯¹çš„æ—¶å€™å¡«å……æ¨¡å¼ï¼Œé£Ÿç”¨æ›´åŠ ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css hljs" data-lang="css"><span class="line"><span class="cl"><span class="nt"><span class="hljs-selector-tag">img</span></span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">  <span class="n"><span class="hljs-attribute">aspect-ratio</span></span><span class="p">:</span> <span class="mi"><span class="hljs-number">16</span></span> <span class="o">/</span> <span class="mi"><span class="hljs-number">9</span></span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">  <span class="k"><span class="hljs-attribute">object-fit</span></span><span class="p">:</span> <span class="kc">contain</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-loading">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img#attr-loading</a></p>
<blockquote>
<p><code>object-fit</code> çš„å…„å¼Ÿå±æ€§ <code>object-position</code>ï¼šç”¨äºæŒ‡å®šå›¾ç‰‡çš„å±•ç¤ºåŒºåŸŸ</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/object-position">https://developer.mozilla.org/en-US/docs/Web/CSS/object-position</a></p>
</blockquote>
<p>ä¸ºäº†æ€§èƒ½ä¼˜åŒ–æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šä¸ºå›¾ç‰‡å¢åŠ æ‡’åŠ è½½çš„æ”¯æŒï¼Œè¿™ä¸ªå®˜æ–¹ä¹Ÿåšäº†åŸç”Ÿçš„æ”¯æŒã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html hljs xml" data-lang="html"><span class="line"><span class="cl"><span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"image.jpg"</span></span></span><span class="hljs-tag"> </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"..."</span></span></span><span class="hljs-tag"> </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">loading</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"lazy"</span></span></span><span class="p"><span class="hljs-tag">&gt;</span></span>
</span></span></code></pre></div><p><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images">https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images</a></p>
<p>ä¸ºäº†æ›´å¥½çš„æ€§èƒ½ä¼˜åŒ–ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä»å›¾ç‰‡å°ºå¯¸å’Œå›¾ç‰‡æ ¼å¼ä¸Šå¯¹å›¾ç‰‡èµ„æºè¿›è¡Œå¤„ç†ï¼Œæ­¤ä¸ºå“åº”å¼å›¾ç‰‡ã€‚</p>
<p>å…³äºå›¾ç‰‡æ ¼å¼ï¼Œé™å›¾æœ‰ <code>jpg</code>,<code>png</code>,<code>webp</code>,<code>avif</code>,<code>jpeg XL</code> è¿™äº›æ ¼å¼ã€‚åŠ¨å›¾æœ‰ <code>gif</code>,<code>apng</code>,<code>webp</code>,<code>avif</code>ä¹‹è¿™äº›æ ¼å¼ã€‚<code>avif</code> æ˜¯åŸºäºè§†é¢‘ç¼–ç  AV1 è¡ç”Ÿçš„å›¾ç‰‡æ ¼å¼ã€‚é’ˆå¯¹ä¸åŒçš„æµè§ˆå™¨é€‚é…ä¸åŒçš„æ ¼å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>&lt;picture&gt;</code> è¿›è¡Œå›¾ç‰‡æ¸²æŸ“ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html hljs xml" data-lang="html"><span class="line"><span class="cl"><span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="p"><span class="hljs-tag">&gt;</span></span>
</span></span><span class="line"><span class="cl">  <span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"image/avif"</span></span></span><span class="hljs-tag"> </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"....avif"</span></span></span><span class="hljs-tag"> </span><span class="p"><span class="hljs-tag">/&gt;</span></span>
</span></span><span class="line"><span class="cl">  <span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"....webp"</span></span></span><span class="hljs-tag"> </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">loading</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"lazy"</span></span></span><span class="hljs-tag"> </span><span class="p"><span class="hljs-tag">/&gt;</span></span>
</span></span><span class="line"><span class="cl"><span class="p"><span class="hljs-tag">&lt;/</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="p"><span class="hljs-tag">&gt;</span></span>
</span></span></code></pre></div><p>é™¤äº†æ ¼å¼ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æŒ‰ç…§åˆ†è¾¨ç‡æ¥è®¾ç½®ï¼Œå›¾ç‰‡å°ºå¯¸ä¹Ÿä¸åœ¨è¯ä¸‹ã€‚ç»¼åˆå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html hljs xml" data-lang="html"><span class="line"><span class="cl"><span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="p"><span class="hljs-tag">&gt;</span></span><span class="css">
</span></span></span><span class="line"><span class="cl"><span class="nt"><span class="css"><span class="hljs-selector-tag">img</span></span></span><span class="css"> </span><span class="p"><span class="css">{</span></span><span class="css"> 
</span></span></span><span class="line"><span class="cl"><span class="css">    </span><span class="k"><span class="css"><span class="hljs-attribute">width</span></span></span><span class="p"><span class="css">:</span></span><span class="css"> </span><span class="mi"><span class="css"><span class="hljs-number">320</span></span></span><span class="kt"><span class="css"><span class="hljs-number">px</span></span></span><span class="p"><span class="css">;</span></span><span class="css">
</span></span></span><span class="line"><span class="cl"><span class="css">    </span><span class="n"><span class="css"><span class="hljs-attribute">aspect-ratio</span></span></span><span class="p"><span class="css">:</span></span><span class="css"> </span><span class="mi"><span class="css"><span class="hljs-number">320</span></span></span><span class="css"> </span><span class="o"><span class="css">/</span></span><span class="css"> </span><span class="mi"><span class="css"><span class="hljs-number">240</span></span></span><span class="p"><span class="css">;</span></span><span class="css"> 
</span></span></span><span class="line"><span class="cl"><span class="css">    </span><span class="k"><span class="css"><span class="hljs-attribute">object-fit</span></span></span><span class="p"><span class="css">:</span></span><span class="css"> </span><span class="kc"><span class="css">contain</span></span><span class="p"><span class="css">;</span></span><span class="css"> 
</span></span></span><span class="line"><span class="cl"><span class="p"><span class="css">}</span></span><span class="css">
</span></span></span><span class="line"><span class="cl"><span class="p"><span class="hljs-tag">&lt;/</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="p"><span class="hljs-tag">&gt;</span></span>
</span></span><span class="line"><span class="cl"><span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="p"><span class="hljs-tag">&gt;</span></span>
</span></span><span class="line"><span class="cl">  <span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> 
</span></span></span><span class="line"><span class="cl"><span class="hljs-tag">      </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"image/avif"</span></span></span><span class="hljs-tag"> 
</span></span></span><span class="line"><span class="cl"><span class="hljs-tag">      </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"...320x240.avif 1x ...640x480.avif 2x ...960x720.avif 3x"</span></span></span><span class="hljs-tag"> 
</span></span></span><span class="line"><span class="cl"><span class="hljs-tag">  </span><span class="p"><span class="hljs-tag">/&gt;</span></span>
</span></span><span class="line"><span class="cl">  <span class="p"><span class="hljs-tag">&lt;</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> 
</span></span></span><span class="line"><span class="cl"><span class="hljs-tag">      </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"...320x240.webp 1x ...640x480.webp 2x ...960x720.webp 3x"</span></span></span><span class="hljs-tag"> 
</span></span></span><span class="line"><span class="cl"><span class="hljs-tag">      </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"....webp"</span></span></span><span class="hljs-tag"> 
</span></span></span><span class="line"><span class="cl"><span class="hljs-tag">      </span><span class="na"><span class="hljs-tag"><span class="hljs-attr">loading</span></span></span><span class="o"><span class="hljs-tag">=</span></span><span class="s"><span class="hljs-tag"><span class="hljs-string">"lazy"</span></span></span><span class="hljs-tag"> 
</span></span></span><span class="line"><span class="cl"><span class="hljs-tag">  </span><span class="p"><span class="hljs-tag">/&gt;</span></span>
</span></span><span class="line"><span class="cl"><span class="p"><span class="hljs-tag">&lt;/</span></span><span class="nt"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="p"><span class="hljs-tag">&gt;</span></span>
</span></span></code></pre></div><p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://www.bram.us/2022/04/20/the-future-of-css-css-toggles/">The Future of CSS: CSS Toggles</a></li>
<li><a href="https://www.zhihu.com/question/546390030/answer/2603655667">æœ‰å“ªäº›ä»¥å¾€éœ€è¦ä½¿ç”¨javascriptå®ç°çš„åŠŸèƒ½ç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨htmlæˆ–è€…csså®ç°? - çŸ¥ä¹</a></li>
<li><a href="https://css.oddbird.net/scope/explainer/">Scope Proposal &amp; Explainer</a></li>
<li><a href="https://css-tricks.com/proposal-for-css-when/">Proposal for CSS @when | CSS-Tricks</a></li>
<li><a href="https://juejin.cn/post/7080433165264748557">JS æ·±æ‹·è´çš„åŸç”Ÿç»ˆç»“è€… structuredClone API - æ˜é‡‘</a></li>
<li><a href="https://developer.chrome.com/docs/web-platform/navigation-api/">https://developer.chrome.com/docs/web-platform/navigation-api/</a></li>
<li><a href="https://web.dev/urlpattern/">URLPattern brings routing to the web platform</a></li>
<li><a href="https://web.dev/learn/design/picture-element/">https://web.dev/learn/design/picture-element/</a></li>
</ul>

    </div>
    </article>
    é˜…è¯»é‡: <span id="/" class="waline-pageview-count"></span> è¯„è®ºæ•°:
    <span id="/" class="waline-comment-count"></span>
    <div id="waline" style="max-width: 800px; margin: 0 auto"></div>
    <script type="module">
      import { init } from '../src/entries/init.ts';
      import '../src/styles/index.scss';

      window.waline = init({
        el: '#waline',
        path: '/',
        comment: true,
        pageview: true,
        reaction: true,
        serverURL: 'https://walinejs.comment.lithub.cc',
        emoji: [
          '//unpkg.com/@waline/emojis@1.1.0/bilibili',
          '//unpkg.com/@waline/emojis@1.1.0/qq',
        ],
        // recaptchaV3Key: '6Lfz4-shAAAAANgsYRR0datkzv6zLIaKrSqfHsiG',
        turnstileKey: '0x4AAAAAAACTzOE6F_3MuL-L',
        highlightComment: 'article',
      });
    </script>
  </body>
</html>
