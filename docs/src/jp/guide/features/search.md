---
title: 絵文字検索
icon: search
order: 3
---

`@waline/client` では、絵文字検索サービスを追加したり、この機能をカスタマイズしたりすることができます。

デフォルトでは、`@waline/client` は [Giphy](https://giphy.com/) 経由でミーム検索サービスを提供しています。これにより画像を検索してコメントに追加することができます。

<!-- more -->

## 無効化

デフォルトの画像検索サービスが不要な場合は、`search` オプションを `false` に設定することで無効にできます。

```js
Waline.init({
  el: '#waline',
  // ...
  search: false,
});
```

## カスタマイズ

`search` オプションを使って画像検索サービスをカスタマイズできます。

各操作では、検索結果として画像情報を含む配列を返す必要があります。各アイテムは以下のプロパティを持つオブジェクトである必要があります:

- `src`: 画像のリンクアドレス
- `title`: 画像のタイトルおよび alt テキスト（オプション）
- `preview`: 結果リストで使用する画像のサムネイル（オプション）

このオプションは 3 つの関数を受け取ります。それぞれ Promise を返す必要があり、結果は上記の検索結果の配列です。

- `search`: 検索操作。検索キーワードが関数の第一引数として渡されます
- `default`: デフォルトで表示する画像一覧（オプション）
- `more`: 画像が一番下までスクロールされたときに実行される関数。検索キーワードと現在の件数が最初の 2 つの引数として渡されます（オプション）

カスタム検索のチュートリアルは [クックブック → カスタム絵文字検索](../../cookbook/customize/search.md) を参照してください。
