---
title: 자주 묻는 질문
icon: faq
order: 4
---

Waline은 탄생 이래 매우 명확한 포지션을 가지고 있습니다:

::: info 백엔드를 갖춘 간단한 댓글 시스템.

:::

이후 출시된 모든 버전은 이 포지션을 중심으로 수정된 것입니다.

## Valine과의 관계는?

::: info Waline = With backend Valine

:::

Valine의 오픈 소스 버전을 참고하여, 프론트엔드의 댓글 목록을 React로 다시 작성했습니다. 스타일과 구조, 그리고 일부 내부 도구와 메서드는 모두 Valine에서 가져왔습니다.

## LeanCloud에 Valine-Admin을 추가로 배포해야 하나요?

아니요. Waline은 데이터 스토리지, 서버, 클라이언트를 하나로 통합한 배포 방식입니다. 서버 인터페이스가 이미 Valine의 LeanCloud 클라우드 엔진과 동등합니다. 서버에는 이미 이전 클라우드 엔진에서 제공하던 댓글 관리 및 이메일 알림 기능이 포함되어 있습니다. 추가적인 LeanCloud 클라우드 엔진이 필요하지 않으므로, LeanCloud 클라우드 엔진의 휴면 정책에 의한 제약을 받지 않습니다.

## 어떻게 업그레이드할 수 있나요?

Waline은 주로 프론트엔드와 서버 두 부분으로 구성됩니다.

### 프론트엔드

프론트엔드는 웹 페이지에 JS 스크립트를 포함하여 댓글 목록과 댓글 입력창을 삽입합니다. 대부분의 시나리오에서 링크는 온라인 CDN의 최신 버전 주소를 사용하며, 최신 버전이 자동으로 적용되므로 사용자가 수동으로 업데이트할 필요가 없습니다.

::: note 다음의 경우 수동 업데이트가 필요합니다

1. CDN 주소에 버전 번호가 강제 지정된 경우. 이 경우 버전 번호를 최신으로 수동으로 수정해야 합니다.
1. NPM을 사용하여 모듈을 가져와 코드에 패키징하는 경우. 이 경우 설치 시 최신 버전의 의존성을 가져올 수 있도록 의존성의 버전 번호를 수정해야 합니다.

:::

### 서버

서버는 프론트엔드 스크립트에서 설정한 `serverURL`에 해당하는 백엔드 서비스를 말하며, 배포 환경에 따라 업데이트 방법이 약간 다릅니다. 서버 업데이트는 더 자주 이루어집니다.

#### Vercel

해당 GitHub 저장소에 접속하여 package.json 파일의 `@waline/vercel` 버전 번호를 최신으로 수정합니다.

![vercel](./assets/vercel-update.png)

#### CloudBase

코드 편집 페이지에 들어가서 <kbd>저장 후 의존성 재설치</kbd>를 클릭합니다. 그래도 작동하지 않으면 <kbd>내 애플리케이션</kbd>에 들어가서 <kbd>배포</kbd>를 선택하여 재배포합니다.

::: caution

재배포 시 이전 파일이 모두 삭제됩니다. 이전 파일에 설정이 있는 경우 먼저 백업해야 합니다.

:::

![cloudBase](./assets/cloudbase-update.jpg)

#### Docker

`docker pull lizheming/waline`을 직접 실행하여 최신 이미지를 가져옵니다.

## 댓글 게시가 왜 느린가요?

일부 기술적인 이유로, 댓글 게시 시 스팸 감지와 댓글 알림은 모두 직렬 작업입니다. 스팸 감지는 해외의 Akismet에서 제공하는 서비스를 사용하므로, 접속이 느릴 수 있습니다. 사용자는 `AKISMET_KEY=false` 환경 변수를 통해 스팸 감지 기능을 끌 수 있습니다. 스팸 감지 서비스 외에, 댓글 알림의 이메일 알림도 타임아웃을 유발할 수 있습니다. 이 기능으로 인한 것인지 테스트하려면 댓글 알림을 끄면 됩니다.
